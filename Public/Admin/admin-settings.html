<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Settings | Sarah's Short Cakes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <link href="css/admin-style.css" rel="stylesheet" />
    <style>
        .settings-card {
            border-left: 4px solid var(--primary);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .settings-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .settings-section {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .settings-section:last-child {
            border-bottom: none;
        }
        
        .settings-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 107, 139, 0.1);
            color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }
        
        .color-preview {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
            border: 1px solid #dee2e6;
        }
        
        .theme-option {
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        
        .theme-option:hover {
            border-color: var(--primary);
        }
        
        .theme-option.active {
            border: 2px solid var(--primary);
            background-color: rgba(255, 107, 139, 0.05);
        }
        
        .notification-sound-preview {
            cursor: pointer;
            margin-left: 10px;
        }
        
        .tab-content {
            padding: 20px;
            background-color: white;
            border-left: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            border-radius: 0 0 5px 5px;
        }
        
        .nav-tabs .nav-link {
            color: var(--dark);
        }
        
        .nav-tabs .nav-link.active {
            color: var(--primary);
            font-weight: 500;
        }
        
        .backup-status {
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        
        .backup-success {
            background-color: rgba(6, 214, 160, 0.1);
            color: var(--success);
        }
        
        .backup-warning {
            background-color: rgba(255, 209, 102, 0.1);
            color: var(--warning);
        }
    </style>
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header navbar navbar-dark sticky-top flex-md-nowrap p-0">
        <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 d-flex align-items-center" href="admin.html">
            <img src="/Public/images/logo.png" alt="Logo" height="30" class="me-2" />
            Admin Dashboard
        </a>
        <div class="navbar-nav">
            <div class="nav-item text-nowrap d-flex align-items-center">
                <span class="px-3 text-white">Welcome, Admin</span>
                <a class="nav-link px-3" href="#" id="logoutBtn">
                    <i class="fas fa-sign-out-alt me-1"></i> Logout
                </a>
            </div>
        </div>
    </header>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column" role="menu" aria-label="Admin Navigation">
                        <li class="nav-item" role="none">
                            <a class="nav-link" href="admin.html" role="menuitem" tabindex="-1" data-section="dashboard">
                                <i class="fas fa-tachometer-alt" aria-hidden="true"></i>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item" role="none">
                            <a class="nav-link" href="admin-orders.html" role="menuitem" tabindex="-1" data-section="orders">
                                <i class="fas fa-shopping-bag" aria-hidden="true"></i>
                                Orders
                            </a>
                   
                        <li class="nav-item" role="none">
                            <a class="nav-link" href="customers.html" role="menuitem" tabindex="-1" data-section="customers">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                Customers
                            </a>
                        </li>
                        <li class="nav-item" role="none">
                            <a class="nav-link" href="admin-inventory.html" role="menuitem" tabindex="-1" data-section="inventory">
                                <i class="fas fa-boxes" aria-hidden="true"></i>
                                Inventory
                            </a>
                        </li>
                        <li class="nav-item" role="none">
                            <a class="nav-link" href="admin-reports.html" role="menuitem" tabindex="-1" data-section="reports">
                                <i class="fas fa-chart-line" aria-hidden="true"></i>
                                Reports
                            </a>
                        </li>
                        <li class="nav-item" role="none">
                            <a class="nav-link active" href="admin-settings.html" role="menuitem" aria-current="page" tabindex="0" data-section="settings">
                                <i class="fas fa-cog" aria-hidden="true"></i>
                                Settings
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4" id="mainContent">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">System Settings</h1>
                    <div class="btn-toolbar mb-2 mb-md-0">
                        <button class="btn btn-sm btn-primary me-2" id="saveSettingsBtn">
                            <i class="fas fa-save me-1"></i> Save All Changes
                        </button>
                    </div>
                </div>

                <!-- Settings Tabs -->
                <ul class="nav nav-tabs mb-3" id="settingsTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="true">
                            <i class="fas fa-sliders-h me-1"></i> General
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="appearance-tab" data-bs-toggle="tab" data-bs-target="#appearance" type="button" role="tab" aria-controls="appearance" aria-selected="false">
                            <i class="fas fa-palette me-1"></i> Appearance
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="notifications-tab" data-bs-toggle="tab" data-bs-target="#notifications" type="button" role="tab" aria-controls="notifications" aria-selected="false">
                            <i class="fas fa-bell me-1"></i> Notifications
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security" type="button" role="tab" aria-controls="security" aria-selected="false">
                            <i class="fas fa-shield-alt me-1"></i> Security
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="backup-tab" data-bs-toggle="tab" data-bs-target="#backup" type="button" role="tab" aria-controls="backup" aria-selected="false">
                            <i class="fas fa-database me-1"></i> Backup
                        </button>
                    </li>
                </ul>

                <div class="tab-content" id="settingsTabContent">
                    <!-- General Settings Tab -->
                    <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-store"></i>
                                </div>
                                Business Information
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="businessName" class="form-label">Business Name</label>
                                    <input type="text" class="form-control" id="businessName" value="Sarah's Short Cakes">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="businessEmail" class="form-label">Business Email</label>
                                    <input type="email" class="form-control" id="businessEmail" value="info@sarahsshortcakes.com">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="businessPhone" class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="businessPhone" value="(555) 123-4567">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="businessWebsite" class="form-label">Website</label>
                                    <input type="url" class="form-control" id="businessWebsite" value="https://sarahsshortcakes.com">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="businessAddress" class="form-label">Address</label>
                                <textarea class="form-control" id="businessAddress" rows="2">123 Bakery Street, Sweetville, CA 90210</textarea>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                Business Hours
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Opening Hours</label>
                                    <div class="input-group mb-2">
                                        <span class="input-group-text">Monday - Friday</span>
                                        <input type="time" class="form-control" value="08:00">
                                        <span class="input-group-text">to</span>
                                        <input type="time" class="form-control" value="18:00">
                                    </div>
                                    <div class="input-group mb-2">
                                        <span class="input-group-text">Saturday</span>
                                        <input type="time" class="form-control" value="09:00">
                                        <span class="input-group-text">to</span>
                                        <input type="time" class="form-control" value="17:00">
                                    </div>
                                    <div class="input-group">
                                        <span class="input-group-text">Sunday</span>
                                        <input type="time" class="form-control" value="10:00">
                                        <span class="input-group-text">to</span>
                                        <input type="time" class="form-control" value="15:00">
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Holiday Schedule</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="closedChristmas" checked>
                                        <label class="form-check-label" for="closedChristmas">
                                            Closed on Christmas Day
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="closedNewYears" checked>
                                        <label class="form-check-label" for="closedNewYears">
                                            Closed on New Year's Day
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="closedThanksgiving" checked>
                                        <label class="form-check-label" for="closedThanksgiving">
                                            Closed on Thanksgiving
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="closedEaster">
                                        <label class="form-check-label" for="closedEaster">
                                            Closed on Easter Sunday
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-truck"></i>
                                </div>
                                Delivery Settings
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="deliveryFee" class="form-label">Delivery Fee</label>
                                    <div class="input-group">
                                        <span class="input-group-text">$</span>
                                        <input type="number" class="form-control" id="deliveryFee" value="5.00" step="0.01" min="0">
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="deliveryRadius" class="form-label">Delivery Radius</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="deliveryRadius" value="10" min="0">
                                        <span class="input-group-text">miles</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="minOrderAmount" class="form-label">Minimum Order Amount for Delivery</label>
                                    <div class="input-group">
                                        <span class="input-group-text">$</span>
                                        <input type="number" class="form-control" id="minOrderAmount" value="15.00" step="0.01" min="0">
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="deliveryTime" class="form-label">Estimated Delivery Time</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="deliveryTime" value="45" min="0">
                                        <span class="input-group-text">minutes</span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="enableDelivery" checked>
                                <label class="form-check-label" for="enableDelivery">Enable Delivery Service</label>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="enablePickup" checked>
                                <label class="form-check-label" for="enablePickup">Enable Pickup Service</label>
                            </div>
                        </div>
                    </div>

                    <!-- Appearance Settings Tab -->
                    <div class="tab-pane fade" id="appearance" role="tabpanel" aria-labelledby="appearance-tab">
                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-paint-brush"></i>
                                </div>
                                Theme Settings
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <label class="form-label">Select Theme</label>
                                    <div class="theme-option active" data-theme="default">
                                        <div class="d-flex align-items-center">
                                            <div class="color-preview" style="background-color: #FF6B8B;"></div>
                                            <div class="color-preview" style="background-color: #FFD166;"></div>
                                            <div class="color-preview" style="background-color: #06D6A0;"></div>
                                            <div class="ms-2">Default Theme</div>
                                        </div>
                                    </div>
                                    <div class="theme-option" data-theme="dark">
                                        <div class="d-flex align-items-center">
                                            <div class="color-preview" style="background-color: #6B2D5C;"></div>
                                            <div class="color-preview" style="background-color: #F0386B;"></div>
                                            <div class="color-preview" style="background-color: #FF5376;"></div>
                                            <div class="ms-2">Dark Theme</div>
                                        </div>
                                    </div>
                                    <div class="theme-option" data-theme="light">
                                        <div class="d-flex align-items-center">
                                            <div class="color-preview" style="background-color: #F8F9FA;"></div>
                                            <div class="color-preview" style="background-color: #E9ECEF;"></div>
                                            <div class="color-preview" style="background-color: #DEE2E6;"></div>
                                            <div class="ms-2">Light Theme</div>
                                        </div>
                                    </div>
                                    <div class="theme-option" data-theme="custom">
                                        <div class="d-flex align-items-center">
                                            <div class="color-preview" id="customPrimaryPreview" style="background-color: #FF6B8B;"></div>
                                            <div class="color-preview" id="customSecondaryPreview" style="background-color: #FFD166;"></div>
                                            <div class="color-preview" id="customAccentPreview" style="background-color: #06D6A0;"></div>
                                            <div class="ms-2">Custom Theme</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4" id="customThemeSettings">
                                    <label class="form-label">Customize Colors</label>
                                    <div class="mb-3">
                                        <label for="primaryColor" class="form-label">Primary Color</label>
                                        <input type="color" class="form-control form-control-color" id="primaryColor" value="#FF6B8B" title="Choose primary color">
                                    </div>
                                    <div class="mb-3">
                                        <label for="secondaryColor" class="form-label">Secondary Color</label>
                                        <input type="color" class="form-control form-control-color" id="secondaryColor" value="#FFD166" title="Choose secondary color">
                                    </div>
                                    <div class="mb-3">
                                        <label for="accentColor" class="form-label">Accent Color</label>
                                        <input type="color" class="form-control form-control-color" id="accentColor" value="#06D6A0" title="Choose accent color">
                                    </div>
                                    <button class="btn btn-sm btn-outline-primary" id="applyCustomTheme">Apply Custom Colors</button>
                                </div>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="darkModeSwitch">
                                <label class="form-check-label" for="darkModeSwitch">Enable Dark Mode</label>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-desktop"></i>
                                </div>
                                Dashboard Layout
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="sidebarStyle" class="form-label">Sidebar Style</label>
                                    <select class="form-select" id="sidebarStyle">
                                        <option value="expanded">Expanded</option>
                                        <option value="compact">Compact</option>
                                        <option value="icons">Icons Only</option>
                                        <option value="hidden">Hidden</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="dashboardDensity" class="form-label">Dashboard Density</label>
                                    <select class="form-select" id="dashboardDensity">
                                        <option value="comfortable">Comfortable</option>
                                        <option value="compact" selected>Compact</option>
                                        <option value="spacious">Spacious</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="enableAnimations" checked>
                                <label class="form-check-label" for="enableAnimations">Enable Animations</label>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-image"></i>
                                </div>
                                Branding
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="logoUpload" class="form-label">Logo</label>
                                    <input class="form-control" type="file" id="logoUpload" accept="image/*">
                                    <div class="mt-2">
                                        <img src="/static/images/logo.png" alt="Current Logo" id="currentLogo" class="img-fluid" style="max-height: 80px;">
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="faviconUpload" class="form-label">Favicon</label>
                                    <input class="form-control" type="file" id="faviconUpload" accept="image/x-icon,.ico">
                                    <div class="mt-2">
                                        <img src="/static/images/favicon.ico" alt="Current Favicon" id="currentFavicon" class="img-fluid" style="max-height: 32px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notifications Settings Tab -->
                    <div class="tab-pane fade" id="notifications" role="tabpanel" aria-labelledby="notifications-tab">
                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-bell"></i>
                                </div>
                                Notification Preferences
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Order Notifications</label>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="notifyNewOrder" checked>
                                        <label class="form-check-label" for="notifyNewOrder">New Order Received</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="notifyOrderUpdate" checked>
                                        <label class="form-check-label" for="notifyOrderUpdate">Order Status Changed</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="notifyOrderCancel" checked>
                                        <label class="form-check-label" for="notifyOrderCancel">Order Cancelled</label>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Inventory Notifications</label>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="notifyLowStock" checked>
                                        <label class="form-check-label" for="notifyLowStock">Low Stock Alert</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="notifyOutOfStock" checked>
                                        <label class="form-check-label" for="notifyOutOfStock">Out of Stock Alert</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="notifyInventoryUpdate">
                                        <label class="form-check-label" for="notifyInventoryUpdate">Inventory Updated</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="notificationSound" class="form-label">Notification Sound</label>
                                    <select class="form-select" id="notificationSound">
                                        <option value="chime">Chime</option>
                                        <option value="ding" selected>Ding</option>
                                        <option value="bell">Bell</option>
                                        <option value="none">None</option>
                                    </select>
                                    <button class="btn btn-sm btn-outline-secondary mt-2 notification-sound-preview" id="previewSound">
                                        <i class="fas fa-play me-1"></i> Preview Sound
                                    </button>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="notificationVolume" class="form-label">Notification Volume</label>
                                    <input type="range" class="form-range" id="notificationVolume" min="0" max="100" value="70">
                                    <div class="d-flex justify-content-between">
                                        <small>0%</small>
                                        <small>100%</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                Email Notifications
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="adminEmail" class="form-label">Admin Email Address</label>
                                    <input type="email" class="form-control" id="adminEmail" value="admin@sarahsshortcakes.com">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="notificationEmailFrequency" class="form-label">Notification Frequency</label>
                                    <select class="form-select" id="notificationEmailFrequency">
                                        <option value="immediate">Immediately</option>
                                        <option value="hourly">Hourly Digest</option>
                                        <option value="daily" selected>Daily Digest</option>
                                        <option value="weekly">Weekly Digest</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="enableEmailNotifications" checked>
                                <label class="form-check-label" for="enableEmailNotifications">Enable Email Notifications</label>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                Mobile Notifications
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="mobileNumber" class="form-label">Mobile Number for SMS</label>
                                    <input type="tel" class="form-control" id="mobileNumber" value="(555) 987-6543">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="mobileNotificationTypes" class="form-label">Notification Types</label>
                                    <select class="form-select" id="mobileNotificationTypes" multiple>
                                        <option value="urgent" selected>Urgent Orders</option>
                                        <option value="highvalue" selected>High Value Orders</option>
                                        <option value="inventory">Inventory Alerts</option>
                                        <option value="system">System Alerts</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="enableSMSNotifications">
                                <label class="form-check-label" for="enableSMSNotifications">Enable SMS Notifications</label>
                            </div>
                        </div>
                    </div>

                    <!-- Security Settings Tab -->
                    <div class="tab-pane fade" id="security" role="tabpanel" aria-labelledby="security-tab">
                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-user-shield"></i>
                                </div>
                                Account Security
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="currentPassword" class="form-label">Current Password</label>
                                    <input type="password" class="form-control" id="currentPassword">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="newPassword" class="form-label">New Password</label>
                                    <input type="password" class="form-control" id="newPassword">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="confirmPassword" class="form-label">Confirm New Password</label>
                                    <input type="password" class="form-control" id="confirmPassword">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="passwordStrength" class="form-label">Password Strength</label>
                                    <div class="progress mt-2">
                                        <div class="progress-bar bg-danger" id="passwordStrengthBar" role="progressbar" style="width: 25%"></div>
                                    </div>
                                    <small id="passwordStrengthText" class="text-muted">Weak</small>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="changePasswordBtn">Change Password</button>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-lock"></i>
                                </div>
                                Two-Factor Authentication
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="card settings-card">
                                        <div class="card-body">
                                            <h5 class="card-title">SMS Authentication</h5>
                                            <p class="card-text">Receive a verification code via SMS</p>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="enableSMS2FA">
                                                <label class="form-check-label" for="enableSMS2FA">Enable SMS 2FA</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card settings-card">
                                        <div class="card-body">
                                            <h5 class="card-title">Authenticator App</h5>
                                            <p class="card-text">Use an app like Google Authenticator</p>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="enableApp2FA" checked>
                                                <label class="form-check-label" for="enableApp2FA">Enable App 2FA</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i> Two-factor authentication adds an extra layer of security to your account.
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-history"></i>
                                </div>
                                Login History
                            </h4>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Date & Time</th>
                                            <th>IP Address</th>
                                            <th>Location</th>
                                            <th>Device</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Jun 20, 2023 14:32</td>
                                            <td>192.168.1.1</td>
                                            <td>New York, US</td>
                                            <td>Chrome on Windows</td>
                                            <td><span class="badge bg-success">Success</span></td>
                                        </tr>
                                        <tr>
                                            <td>Jun 18, 2023 09:15</td>
                                            <td>203.0.113.45</td>
                                            <td>Chicago, US</td>
                                            <td>Safari on iPhone</td>
                                            <td><span class="badge bg-success">Success</span></td>
                                        </tr>
                                        <tr>
                                            <td>Jun 15, 2023 22:47</td>
                                            <td>198.51.100.22</td>
                                            <td>Unknown</td>
                                            <td>Unknown</td>
                                            <td><span class="badge bg-danger">Failed</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Backup Settings Tab -->
                    <div class="tab-pane fade" id="backup" role="tabpanel" aria-labelledby="backup-tab">
                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                Automatic Backups
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="backupFrequency" class="form-label">Backup Frequency</label>
                                    <select class="form-select" id="backupFrequency">
                                        <option value="daily">Daily</option>
                                        <option value="weekly" selected>Weekly</option>
                                        <option value="monthly">Monthly</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="backupTime" class="form-label">Backup Time</label>
                                    <input type="time" class="form-control" id="backupTime" value="02:00">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="backupRetention" class="form-label">Retention Period</label>
                                    <select class="form-select" id="backupRetention">
                                        <option value="7">1 Week</option>
                                        <option value="30" selected>1 Month</option>
                                        <option value="90">3 Months</option>
                                        <option value="365">1 Year</option>
                                        <option value="0">Keep Forever</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="backupLocation" class="form-label">Backup Location</label>
                                    <select class="form-select" id="backupLocation">
                                        <option value="server">Server</option>
                                        <option value="google_drive" selected>Google Drive</option>
                                        <option value="dropbox">Dropbox</option>
                                        <option value="aws">AWS S3</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-check form-switch mb-3">
                                <input class="form-check-input" type="checkbox" id="enableAutoBackups" checked>
                                <label class="form-check-label" for="enableAutoBackups">Enable Automatic Backups</label>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-download"></i>
                                </div>
                                Manual Backup
                            </h4>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="backupType" class="form-label">Backup Type</label>
                                    <select class="form-select" id="backupType">
                                        <option value="full">Full Backup</option>
                                        <option value="database" selected>Database Only</option>
                                        <option value="files">Files Only</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="manualBackupLocation" class="form-label">Backup Location</label>
                                    <select class="form-select" id="manualBackupLocation">
                                        <option value="download">Download</option>
                                        <option value="server">Server</option>
                                        <option value="google_drive">Google Drive</option>
                                    </select>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="createBackupBtn">
                                <i class="fas fa-download me-1"></i> Create Backup Now
                            </button>
                        </div>

                        <div class="settings-section">
                            <h4 class="d-flex align-items-center mb-4">
                                <div class="settings-icon">
                                    <i class="fas fa-history"></i>
                                </div>
                                Backup History
                            </h4>
                            <div class="backup-status backup-success mb-2">
                                <div class="d-flex justify-content-between">
                                    <strong>Backup completed</strong>
                                    <small>Jun 20, 2023 02:00 AM</small>
                                </div>
                                <small>Database backup (25.4 MB) stored in Google Drive</small>
                            </div>
                            <div class="backup-status backup-success mb-2">
                                <div class="d-flex justify-content-between">
                                    <strong>Backup completed</strong>
                                    <small>Jun 13, 2023 02:00 AM</small>
                                </div>
                                <small>Database backup (24.8 MB) stored in Google Drive</small>
                            </div>
                            <div class="backup-status backup-warning mb-2">
                                <div class="d-flex justify-content-between">
                                    <strong>Backup partial</strong>
                                    <small>Jun 6, 2023 02:00 AM</small>
                                </div>
                                <small>Database backup (18.2 MB) - some tables skipped</small>
                            </div>
                            <button class="btn btn-sm btn-outline-secondary mt-2">View All Backups</button>
                        </div>
                    </div>


    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    
    <script>
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Theme selection
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.theme-option').forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    if (this.dataset.theme === 'custom') {
                        document.getElementById('customThemeSettings').style.display = 'block';
                    } else {
                        document.getElementById('customThemeSettings').style.display = 'none';
                        // In a real app, we'd apply the selected theme
                    }
                });
            });
            
            // Custom color changes
            document.getElementById('primaryColor').addEventListener('input', function() {
                document.getElementById('customPrimaryPreview').style.backgroundColor = this.value;
            });
            
            document.getElementById('secondaryColor').addEventListener('input', function() {
                document.getElementById('customSecondaryPreview').style.backgroundColor = this.value;
            });
            
            document.getElementById('accentColor').addEventListener('input', function() {
                document.getElementById('customAccentPreview').style.backgroundColor = this.value;
            });
            
            document.getElementById('applyCustomTheme').addEventListener('click', function() {
                alert('Custom theme would be applied here');
            });
            
            // Password strength checker
            document.getElementById('newPassword').addEventListener('input', function() {
                const password = this.value;
                let strength = 0;
                
                // Length check
                if (password.length >= 8) strength += 25;
                if (password.length >= 12) strength += 25;
                
                // Complexity checks
                if (/[A-Z]/.test(password)) strength += 15;
                if (/[0-9]/.test(password)) strength += 15;
                if (/[^A-Za-z0-9]/.test(password)) strength += 20;
                
                // Update UI
                const bar = document.getElementById('passwordStrengthBar');
                const text = document.getElementById('passwordStrengthText');
                
                bar.style.width = strength + '%';
                
                if (strength < 40) {
                    bar.className = 'progress-bar bg-danger';
                    text.textContent = 'Weak';
                } else if (strength < 70) {
                    bar.className = 'progress-bar bg-warning';
                    text.textContent = 'Moderate';
                } else if (strength < 90) {
                    bar.className = 'progress-bar bg-info';
                    text.textContent = 'Strong';
                } else {
                    bar.className = 'progress-bar bg-success';
                    text.textContent = 'Very Strong';
                }
            });
            
            // Change password button
            document.getElementById('changePasswordBtn').addEventListener('click', function() {
                const current = document.getElementById('currentPassword').value;
                const newPass = document.getElementById('newPassword').value;
                const confirm = document.getElementById('confirmPassword').value;
                
                if (!current || !newPass || !confirm) {
                    alert('Please fill in all password fields');
                    return;
                }
                
                if (newPass !== confirm) {
                    alert('New passwords do not match');
                    return;
                }
                
                if (newPass.length < 8) {
                    alert('Password must be at least 8 characters long');
                    return;
                }
                
                // In a real app, this would call an API to change password
                alert('Password changed successfully!');
                document.getElementById('currentPassword').value = '';
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmPassword').value = '';
            });
            
            // Create backup button
            document.getElementById('createBackupBtn').addEventListener('click', function() {
                const type = document.getElementById('backupType').value;
                const location = document.getElementById('manualBackupLocation').value;
                
                // In a real app, this would initiate a backup
                alert(`Creating ${type} backup to ${location}...`);
                
                // Simulate backup creation
                setTimeout(() => {
                    alert('Backup created successfully!');
                }, 2000);
            });
            
            
            // Save all settings
            document.getElementById('saveSettingsBtn').addEventListener('click', function() {
                // In a real app, this would collect all settings and send to API
                alert('All settings saved successfully!');
            });
            
            // Preview notification sound
            document.getElementById('previewSound').addEventListener('click', function() {
                const sound = document.getElementById('notificationSound').value;
                const volume = document.getElementById('notificationVolume').value / 100;
                
                // In a real app, this would play the selected sound
                alert(`Playing ${sound} notification at ${Math.round(volume * 100)}% volume`);
            });
            
            // Logout function
            document.getElementById('logoutBtn').addEventListener('click', async function(e) {
                e.preventDefault();
                try {
                    const response = await fetch('/api/logout', {
                        method: 'POST',
                        credentials: 'include'
                    });
                    if (response.ok) {
                        localStorage.removeItem('adminToken');
                        window.location.href = 'login.html';
                    } else {
                        alert('Logout failed. Please try again.');
                    }
                } catch (error) {
                    console.error('Logout error:', error);
                    alert('Logout error. Please try again.');
                }
            });
        });
    </script>
</body>
</html>